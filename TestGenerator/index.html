<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>テスト問題作成ツール</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" xintegrity="sha384-n8MVd4RsNIU0KOVEMckMnHllPN8yXe9z1rLevnxGFb1pcrNHClAtsFHpdmfMynHa" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" xintegrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" xintegrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- 操作パネル (左側) -->
        <aside class="sidebar">
            <header class="sidebar-header">
                <h1>テスト作成</h1>
                <button id="save-pdf-btn" class="btn">
                    <i data-lucide="save"></i>PDF保存
                </button>
            </header>
            
            <div class="controls">
                <h2>用紙設定</h2>
                <div class="form-group">
                    <label>用紙の向き:</label>
                    <div class="radio-group">
                        <input type="radio" id="orientation-portrait" name="orientation" value="portrait" checked>
                        <label for="orientation-portrait">縦</label>
                        <input type="radio" id="orientation-landscape" name="orientation" value="landscape">
                        <label for="orientation-landscape">横</label>
                    </div>
                </div>

                <h2>タイトル設定</h2>
                <div class="form-group">
                     <label for="subject-input"><i data-lucide="file-text"></i> 科目</label>
                     <input type="text" id="subject-input" placeholder="例：数学、英語">
                </div>
                 <div class="form-group">
                     <label for="test-title-input"><i data-lucide="pen-square"></i> テスト名</label>
                     <input type="text" id="test-title-input" placeholder="例：期末試験">
                </div>

                <h2>問題操作</h2>
                <div class="button-group">
                    <button id="add-section-btn" class="btn">
                        <i data-lucide="plus-square"></i>大問を追加
                    </button>
                    <p class="description">現在選択中の大問に小問を追加します。</p>
                    <button id="add-question-btn" class="btn" disabled>
                        <i data-lucide="plus"></i>小問を追加
                    </button>
                </div>

                <div class="controls">
                    <h2>ファイル操作</h2>
                    <div class="button-group">
                        <button id="export-json-btn" class="btn">
                            <i data-lucide="download"></i>エクスポート (.testdata)
                        </button>
                         <p class="description">JSON形式で保存します。</p>
                        <button id="export-csv-btn" class="btn">
                            <i data-lucide="download"></i>エクスポート (.csv)
                        </button>
                         <p class="description">CSV形式で保存します。Excelで編集可能です。</p>
                        <button id="import-btn" class="btn">
                            <i data-lucide="upload"></i>インポート
                        </button>
                         <p class="description">ファイルからテスト内容を読み込みます。</p>
                        <input type="file" id="import-file-input" accept=".testdata,.csv" style="display: none;">
                    </div>
                </div>
            </div>

            <footer class="sidebar-footer">
                <p>efpsbac9904 &copy; 2025</p>
            </footer>
        </aside>

        <!-- プレビューエリア (右側) -->
        <main class="preview-container">
            <div id="test-sheet" class="test-sheet portrait">
                <header class="test-header">
                    <h1 id="preview-subject">科目</h1>
                    <h2 id="preview-test-title">テスト名</h2>
                    <div class="info">
                        <span>年</span>
                        <span>組</span>
                        <span>番</span>
                        <span>氏名:</span>
                    </div>
                </header>
                <div id="test-body">
                </div>
            </div>
        </main>
    </div>

    <!-- サイドバー表示切り替えボタン -->
    <button id="toggle-sidebar-btn" class="sidebar-toggle-btn">
        <i data-lucide="panel-left-close"></i>
    </button>

    <script src="script.js"></script>
</body>
</html>
